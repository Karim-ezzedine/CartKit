# CartKit Public API Baseline
# Source root: .

# Signature lines are extracted from public declarations in Sources/*.swift
# Regenerate with: ./scripts/generate_public_api_baseline.sh

Sources/CartKitStorageCoreData/Errors/CoreDataCartStoreError.swift:8:public enum CoreDataCartStoreError: Error, Sendable {
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStore.swift:11:public actor CoreDataCartStore {
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStore.swift:16: public let container: NSPersistentContainer
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStore.swift:30: public init(configuration: CoreDataCartStoreConfiguration = .init()) async throws {
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStore.swift:82: public func perform<T: Sendable>(
Sources/CartKitStorageCoreData/CoreDataModel/CDCart+CoreDataClass.swift:4:public typealias CDCartCoreDataClassSet = NSSet
Sources/CartKitStorageCoreData/CoreDataModel/CDCart+CoreDataClass.swift:7:public class CDCart: NSManagedObject {
Sources/CartKitStorageCoreData/CoreDataModel/CDCartItemModifier+CoreDataProperties.swift:5:public typealias CDCartItemModifierCoreDataPropertiesSet = NSSet
Sources/CartKit/Factories/CartStoreFactory.swift:9:public enum CartStoreFactory {
Sources/CartKit/Factories/CartStoreFactory.swift:11: public enum MigrationFailureStrategy: Sendable, Equatable {
Sources/CartKitCore/Domain/Entities/Cart.swift:6:public struct Cart: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Entities/Cart.swift:10: public let id: CartID
Sources/CartKitCore/Domain/Entities/Cart.swift:11: public let storeID: StoreID
Sources/CartKitCore/Domain/Entities/Cart.swift:14: public let profileID: UserProfileID?
Sources/CartKitCore/Domain/Entities/Cart.swift:19: public let sessionID: CartSessionID?
Sources/CartKitCore/Domain/Entities/Cart.swift:23: public var items: [CartItem]
Sources/CartKitCore/Domain/Entities/Cart.swift:27: public var status: CartStatus
Sources/CartKitCore/Domain/Entities/Cart.swift:28: public var createdAt: Date
Sources/CartKitCore/Domain/Entities/Cart.swift:29: public var updatedAt: Date
Sources/CartKitCore/Domain/Entities/Cart.swift:32: public var metadata: [String: String]
Sources/CartKitCore/Domain/Entities/Cart.swift:35: public var displayName: String?
Sources/CartKitCore/Domain/Entities/Cart.swift:38: public var context: String?
Sources/CartKitCore/Domain/Entities/Cart.swift:41: public var storeImageURL: URL?
Sources/CartKitCore/Domain/Entities/Cart.swift:44: public var minSubtotal: Money?
Sources/CartKitCore/Domain/Entities/Cart.swift:47: public var maxItemCount: Int?
Sources/CartKitCore/Domain/Entities/Cart.swift:52: public var savedPromotionKinds: [PromotionKind]
Sources/CartKitCore/Domain/Entities/Cart.swift:56: public init(
Sources/CartKitCore/Domain/Entities/Cart.swift:93: public var isGuestCart: Bool {
Sources/CartKitStorageSwiftData/Store/SwiftDataCartStore.swift:8:public actor SwiftDataCartStore: CartStore {
Sources/CartKitStorageSwiftData/Store/SwiftDataCartStore.swift:16: public init(configuration: SwiftDataCartStoreConfiguration = .init()) throws {
Sources/CartKitStorageSwiftData/Store/SwiftDataCartStore.swift:37: public func loadCart(id: CartID) async throws -> Cart? {
Sources/CartKitStorageSwiftData/Store/SwiftDataCartStore.swift:49: public func saveCart(_ cart: Cart) async throws {
Sources/CartKitStorageSwiftData/Store/SwiftDataCartStore.swift:66: public func deleteCart(id: CartID) async throws {
Sources/CartKitStorageSwiftData/Store/SwiftDataCartStore.swift:78: public func fetchCarts(matching query: CartQuery, limit: Int?) async throws -> [Cart] {
Sources/CartKitStorageSwiftData/Store/SwiftDataCartStore.swift:87: public func fetchAllCarts(limit: Int?) async throws -> [Cart] {
Sources/CartKitStorageCoreData/CartStore/CoreDataCartStore+CartStore.swift:19: public func loadCart(id: CartID) async throws -> Cart? {
Sources/CartKitStorageCoreData/CartStore/CoreDataCartStore+CartStore.swift:34: public func saveCart(_ cart: Cart) async throws {
Sources/CartKitStorageCoreData/CartStore/CoreDataCartStore+CartStore.swift:48: public func deleteCart(id: CartID) async throws {
Sources/CartKitStorageCoreData/CartStore/CoreDataCartStore+CartStore.swift:68: public func fetchCarts(matching query: CartQuery, limit: Int?) async throws -> [Cart] {
Sources/CartKitStorageCoreData/CartStore/CoreDataCartStore+CartStore.swift:120: public func fetchAllCarts(limit: Int?) async throws -> [Cart] {
Sources/CartKitTestingSupport/InMemoryCartStore.swift:11:public actor InMemoryCartStore: CartStore {
Sources/CartKitTestingSupport/InMemoryCartStore.swift:20: public init(initialCarts: [Cart] = []) {
Sources/CartKitTestingSupport/InMemoryCartStore.swift:28: public func loadCart(id: CartID) async throws -> Cart? {
Sources/CartKitTestingSupport/InMemoryCartStore.swift:32: public func saveCart(_ cart: Cart) async throws {
Sources/CartKitTestingSupport/InMemoryCartStore.swift:36: public func deleteCart(id: CartID) async throws {
Sources/CartKitTestingSupport/InMemoryCartStore.swift:40: public func fetchCarts(
Sources/CartKitTestingSupport/InMemoryCartStore.swift:99: public func fetchAllCarts(limit: Int?) async throws -> [Cart] {
Sources/CartKitStorageCoreData/CoreDataModel/CDCartItem+CoreDataClass.swift:4:public typealias CDCartItemCoreDataClassSet = NSSet
Sources/CartKitStorageCoreData/CoreDataModel/CDCartItem+CoreDataClass.swift:7:public class CDCartItem: NSManagedObject {
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStoreConfiguration.swift:4:public struct CoreDataCartStoreConfiguration: Sendable {
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStoreConfiguration.swift:7: public enum MergePolicy: String, Sendable {
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStoreConfiguration.swift:16: public let modelName: String
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStoreConfiguration.swift:19: public let inMemory: Bool
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStoreConfiguration.swift:23: public let storeURL: URL?
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStoreConfiguration.swift:26: public let mergePolicy: MergePolicy
Sources/CartKitStorageCoreData/Persistence/CoreDataCartStoreConfiguration.swift:28: public init(
Sources/CartKitCore/Domain/Entities/CartItem.swift:6:public struct CartItem: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Entities/CartItem.swift:8: public let id: CartItemID
Sources/CartKitCore/Domain/Entities/CartItem.swift:11: public let productID: String
Sources/CartKitCore/Domain/Entities/CartItem.swift:14: public var quantity: Int
Sources/CartKitCore/Domain/Entities/CartItem.swift:17: public var unitPrice: Money
Sources/CartKitCore/Domain/Entities/CartItem.swift:21: public var totalPrice: Money
Sources/CartKitCore/Domain/Entities/CartItem.swift:24: public var modifiers: [CartItemModifier]
Sources/CartKitCore/Domain/Entities/CartItem.swift:27: public var imageURL: URL?
Sources/CartKitCore/Domain/Entities/CartItem.swift:33: public var availableStock: Int?
Sources/CartKitCore/Domain/Entities/CartItem.swift:37: public init(
Sources/CartKitCore/Domain/Entities/CartItem.swift:69:public struct CartItemModifier: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Entities/CartItem.swift:71: public var id: String
Sources/CartKitCore/Domain/Entities/CartItem.swift:72: public var name: String
Sources/CartKitCore/Domain/Entities/CartItem.swift:73: public var priceDelta: Money
Sources/CartKitCore/Domain/Entities/CartItem.swift:75: public init(
Sources/CartKitStorageCoreData/CoreDataModel/CDCartItem+CoreDataProperties.swift:5:public typealias CDCartItemCoreDataPropertiesSet = NSSet
Sources/CartKitCore/Domain/Ports/CartConflictResolver.swift:8:public protocol CartConflictResolver: Sendable {
Sources/CartKit/Factories/CartStoragePreference.swift:1:public enum CartStoragePreference: Sendable {
Sources/CartKitTestingSupport/CartTestFixtures.swift:10:public enum CartTestFixtures {
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:3:public struct NoOpPricingEngine: CartPricingEngine, Sendable {
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:4: public init() {}
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:6: public func computeTotals(
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:17:public struct NoOpPromotionEngine: PromotionEngine, Sendable {
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:18: public init() {}
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:20: public func applyPromotions(
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:28:public struct AllowAllValidationEngine: CartValidationEngine, Sendable {
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:29: public init() {}
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:31: public func validate(cart: Cart) async -> CartValidationResult { .valid }
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:33: public func validateItemChange(
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:39:public struct NoOpConflictResolver: CartConflictResolver, Sendable {
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:40: public init() {}
Sources/CartKitTestingSupport/TestDoubles/NoOpEngines.swift:42: public func resolveConflict(
Sources/CartKitStorageCoreData/CoreDataModel/CDCart+CoreDataProperties.swift:5:public typealias CDCartCoreDataPropertiesSet = NSSet
Sources/CartKitStorageCoreData/CoreDataModel/CDCartItemModifier+CoreDataClass.swift:4:public typealias CDCartItemModifierCoreDataClassSet = NSSet
Sources/CartKitStorageCoreData/CoreDataModel/CDCartItemModifier+CoreDataClass.swift:7:public class CDCartItemModifier: NSManagedObject {
Sources/CartKitCore/Domain/Ports/CartCatalogConflictDetector.swift:6:public protocol CartCatalogConflictDetector: Sendable {
Sources/CartKitCore/Domain/Ports/CartCatalogConflictDetector.swift:11:public struct NoOpCartCatalogConflictDetector: CartCatalogConflictDetector, Sendable {
Sources/CartKitCore/Domain/Ports/CartCatalogConflictDetector.swift:12: public init() {}
Sources/CartKitCore/Domain/Ports/CartCatalogConflictDetector.swift:13: public func detectConflicts(for cart: Cart) async -> [CartCatalogConflict] { [] }
Sources/CartKitCore/Domain/Ports/CartStore.swift:12:public struct CartQuery: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Ports/CartStore.swift:15: public enum ProfileFilter: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Ports/CartStore.swift:27: public enum SessionFilter: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Ports/CartStore.swift:36: public enum Sort: String, Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Ports/CartStore.swift:47: public let storeID: StoreID?
Sources/CartKitCore/Domain/Ports/CartStore.swift:50: public let profile: ProfileFilter
Sources/CartKitCore/Domain/Ports/CartStore.swift:53: public let session: SessionFilter
Sources/CartKitCore/Domain/Ports/CartStore.swift:60: public let statuses: Set<CartStatus>?
Sources/CartKitCore/Domain/Ports/CartStore.swift:63: public let sort: Sort
Sources/CartKitCore/Domain/Ports/CartStore.swift:73: public init(
Sources/CartKitCore/Domain/Ports/CartStore.swift:154:public protocol CartStore: Sendable {
Sources/CartKitTestingSupport/TestDoubles/StubValidationEngine.swift:3:public actor StubValidationEngine: CartValidationEngine {
Sources/CartKitTestingSupport/TestDoubles/StubValidationEngine.swift:6: public init(resultsByStore: [StoreID: CartValidationResult]) {
Sources/CartKitTestingSupport/TestDoubles/StubValidationEngine.swift:10: public func validate(cart: Cart) async -> CartValidationResult {
Sources/CartKitTestingSupport/TestDoubles/StubValidationEngine.swift:14: public func validateItemChange(in cart: Cart, proposedItem: CartItem) async -> CartValidationResult {
Sources/CartKitCore/Domain/Value Objects/Errors/CartError.swift:2:public enum CartError: Error, Equatable, Sendable {
Sources/CartKitStorageSwiftData/Models/CartModel.swift:15: public var id: String
Sources/CartKitStorageSwiftData/Models/CartModel.swift:18: public var storeId: String
Sources/CartKitStorageSwiftData/Models/CartModel.swift:21: public var profileId: String?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:24: public var sessionId: String?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:29: public var status: String
Sources/CartKitStorageSwiftData/Models/CartModel.swift:33: public var createdAt: Date
Sources/CartKitStorageSwiftData/Models/CartModel.swift:34: public var updatedAt: Date
Sources/CartKitStorageSwiftData/Models/CartModel.swift:40: public var metadataJSON: Data?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:42: public var displayName: String?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:43: public var context: String?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:44: public var storeImageURLString: String?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:47: public var promotionKindsJSON: Data?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:51: public var minSubtotalAmount: Decimal?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:52: public var minSubtotalCurrencyCode: String?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:54: public var maxItemCount: Int?
Sources/CartKitStorageSwiftData/Models/CartModel.swift:60: public var items: [CartItemModel] = []
Sources/CartKitStorageSwiftData/Models/CartModel.swift:64: public init(
Sources/CartKitCore/Application/CartConfiguration.swift:6:public struct CartConfiguration: Sendable {
Sources/CartKitCore/Application/CartConfiguration.swift:8: public let cartStore: CartStore
Sources/CartKitCore/Application/CartConfiguration.swift:9: public let pricingEngine: CartPricingEngine
Sources/CartKitCore/Application/CartConfiguration.swift:10: public let promotionEngine: PromotionEngine
Sources/CartKitCore/Application/CartConfiguration.swift:11: public let validationEngine: CartValidationEngine
Sources/CartKitCore/Application/CartConfiguration.swift:12: public let conflictResolver: CartConflictResolver?
Sources/CartKitCore/Application/CartConfiguration.swift:13: public let catalogConflictDetector: CartCatalogConflictDetector
Sources/CartKitCore/Application/CartConfiguration.swift:14: public let analyticsSink: CartAnalyticsSink
Sources/CartKitCore/Application/CartConfiguration.swift:15: public let logger: CartLogger
Sources/CartKitCore/Application/CartConfiguration.swift:17: public init(
Sources/CartKitCore/Domain/Services/Cart Pricing Engine/DefaultCartPricingEngine.swift:13:public struct DefaultCartPricingEngine: CartPricingEngine, Sendable {
Sources/CartKitCore/Domain/Services/Cart Pricing Engine/DefaultCartPricingEngine.swift:15: public init() {}
Sources/CartKitCore/Domain/Services/Cart Pricing Engine/DefaultCartPricingEngine.swift:17: public func computeTotals(
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:10:public protocol CartAnalyticsSink: Sendable {
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:39:public struct NoOpCartAnalyticsSink: CartAnalyticsSink {
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:40: public init() {}
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:42: public func cartCreated(_ cart: Cart) {}
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:43: public func cartUpdated(_ cart: Cart) {}
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:44: public func cartDeleted(id: CartID) {}
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:46: public func activeCartChanged(
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:53: public func itemAdded(_ item: CartItem, in cart: Cart) {}
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:54: public func itemUpdated(_ item: CartItem, in cart: Cart) {}
Sources/CartKitCore/Domain/Ports/CartAnalyticsSink.swift:55: public func itemRemoved(
Sources/CartKitCore/Application/Observation/AsyncStreamPublisher.swift:8:public struct AsyncStreamPublisher<Output: Sendable>: Publisher {
Sources/CartKitCore/Application/Observation/AsyncStreamPublisher.swift:9: public typealias Failure = Never
Sources/CartKitCore/Application/Observation/AsyncStreamPublisher.swift:13: public init(_ stream: AsyncStream<Output>) {
Sources/CartKitCore/Application/Observation/AsyncStreamPublisher.swift:17: public func receive<S: Subscriber>(subscriber: S)
Sources/CartKitCore/Application/CartManager.swift:13:public actor CartManager {
Sources/CartKitCore/Application/CartManager.swift:21: public init(configuration: CartConfiguration) {
Sources/CartKitCore/Application/CartManager.swift:33: public func observeEvents() -> AsyncStream<CartEvent> {
Sources/CartKitCore/Application/CartManager.swift:46: public func eventsPublisher() async -> AnyPublisher<CartEvent, Never> {
Sources/CartKitCore/Domain/Value Objects/Errors/CartValidationError.swift:2:public enum CartValidationError: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Errors/CartValidationError.swift:16: public var message: String {
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:15: public var id: String
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:18: public var productId: String
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:22: public var quantity: Int
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:23: public var availableStock: Int?
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:27: public var unitPriceAmount: Decimal
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:28: public var unitPriceCurrencyCode: String
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:30: public var totalPriceAmount: Decimal
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:31: public var totalPriceCurrencyCode: String
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:38: public var modifiers: [CartItemModifierModel] = []
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:42: public var imageURLString: String?
Sources/CartKitStorageSwiftData/Models/CartItemModel.swift:46: public init(
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:18: public init() {}
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:20: public func cartCreated(_ cart: Cart) {
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:24: public func cartUpdated(_ cart: Cart) {
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:28: public func cartDeleted(id: CartID) {
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:32: public func activeCartChanged(
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:41: public func itemAdded(_ item: CartItem, in cart: Cart) {
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:45: public func itemUpdated(_ item: CartItem, in cart: Cart) {
Sources/CartKitTestingSupport/TestDoubles/SpyCartAnalyticsSink.swift:49: public func itemRemoved(
Sources/CartKitCore/Domain/Services/Cart Pricing Engine/CartPricingEngine.swift:8:public protocol CartPricingEngine: Sendable {
Sources/CartKit/Migrations/State/UserDefaultsCartMigrationStateStore.swift:8:public actor UserDefaultsCartMigrationStateStore: CartStoreMigrationStateStore {
Sources/CartKit/Migrations/State/UserDefaultsCartMigrationStateStore.swift:13: public init(
Sources/CartKit/Migrations/State/UserDefaultsCartMigrationStateStore.swift:21: public func isCompleted(_ id: CartMigrationID) async -> Bool {
Sources/CartKit/Migrations/State/UserDefaultsCartMigrationStateStore.swift:25: public func markCompleted(_ id: CartMigrationID) async {
Sources/CartKit/Migrations/State/UserDefaultsCartMigrationStateStore.swift:29: public func reset(_ id: CartMigrationID) async {
Sources/CartKitCore/Domain/Value Objects/CartConflictResolution.swift:2:public enum CartConflictResolution: Sendable {
Sources/CartKitCore/Domain/Value Objects/CartScope.swift:9:public struct CartScopeKey: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/CartScope.swift:10: public let storeID: StoreID
Sources/CartKitCore/Domain/Value Objects/CartScope.swift:11: public let profileID: UserProfileID?
Sources/CartKitCore/Domain/Value Objects/CartScope.swift:12: public let sessionID: CartSessionID?
Sources/CartKitCore/Domain/Value Objects/CartScope.swift:14: public init(storeID: StoreID, profileID: UserProfileID?, sessionID: CartSessionID?) {
Sources/CartKitCore/Domain/Value Objects/CartScope.swift:26: public var isGuest: Bool {
Sources/CartKitCore/Application/Observation/CartEvent.swift:3:public enum CartEvent: Sendable, Equatable {
Sources/CartKitCore/Application/Lifecycle/CartLifecyclePolicy.swift:7:public struct CartLifecyclePolicy: Sendable, Hashable {
Sources/CartKitCore/Application/Lifecycle/CartLifecyclePolicy.swift:11: public let maxArchivedCartsPerScope: Int?
Sources/CartKitCore/Application/Lifecycle/CartLifecyclePolicy.swift:15: public let deleteExpiredOlderThanDays: Int?
Sources/CartKitCore/Application/Lifecycle/CartLifecyclePolicy.swift:16: public let deleteCancelledOlderThanDays: Int?
Sources/CartKitCore/Application/Lifecycle/CartLifecyclePolicy.swift:17: public let deleteCheckedOutOlderThanDays: Int?
Sources/CartKitCore/Application/Lifecycle/CartLifecyclePolicy.swift:19: public init(
Sources/CartKitCore/Domain/Services/Promotion Engine/DefaultPromotionEngine.swift:17:public struct DefaultPromotionEngine: PromotionEngine, Sendable {
Sources/CartKitCore/Domain/Services/Promotion Engine/DefaultPromotionEngine.swift:19: public init() {}
Sources/CartKitCore/Domain/Services/Promotion Engine/DefaultPromotionEngine.swift:21: public func applyPromotions(
Sources/CartKitCore/Domain/Services/Cart Validation Engine/CartValidationEngine.swift:7:public protocol CartValidationEngine: Sendable {
Sources/CartKitCore/Domain/Value Objects/GuestMigrationStrategy.swift:1:public enum GuestMigrationStrategy: Sendable {
Sources/CartKitCore/Domain/Services/Cart Logger/CartLogger.swift:1:public protocol CartLogger: Sendable {
Sources/CartKitCore/Domain/Services/Cart Logger/CartLogger.swift:5:public struct DefaultCartLogger: CartLogger {
Sources/CartKitCore/Domain/Services/Cart Logger/CartLogger.swift:7: public init() {}
Sources/CartKitCore/Domain/Services/Cart Logger/CartLogger.swift:9: public func log(_ message: String) {
Sources/CartKitTestingSupport/TestDoubles/SpyPromotionEngine.swift:4:public actor SpyPromotionEngine: PromotionEngine {
Sources/CartKitTestingSupport/TestDoubles/SpyPromotionEngine.swift:6: public init() {}
Sources/CartKitTestingSupport/TestDoubles/SpyPromotionEngine.swift:10: public func applyPromotions(_ promotions: [PromotionKind], to cartTotals: CartTotals) async throws -> CartTotals {
Sources/CartKit/Migrations/State/CartStoreMigrationStateStore.swift:13:public protocol CartStoreMigrationStateStore: Sendable {
Sources/CartKitStorageSwiftData/Models/CartItemModifierModel.swift:17: public var id: String
Sources/CartKitStorageSwiftData/Models/CartItemModifierModel.swift:21: public var name: String
Sources/CartKitStorageSwiftData/Models/CartItemModifierModel.swift:24: public var priceDeltaAmount: Decimal
Sources/CartKitStorageSwiftData/Models/CartItemModifierModel.swift:25: public var priceDeltaCurrencyCode: String
Sources/CartKitStorageSwiftData/Models/CartItemModifierModel.swift:29: public init(
Sources/CartKitCore/Domain/Value Objects/PricingRequest.swift:2:public struct PricingRequest: Hashable, Sendable {
Sources/CartKitCore/Domain/Value Objects/PricingRequest.swift:8: public var context: CartPricingContext?
Sources/CartKitCore/Domain/Value Objects/PricingRequest.swift:12: public var promotionOverride: [PromotionKind]?
Sources/CartKitCore/Domain/Value Objects/PricingRequest.swift:14: public init(
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:7:public struct Money: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:8: public let amount: Decimal
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:9: public let currencyCode: String
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:11: public init(amount: Decimal, currencyCode: String) {
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:28:public struct CartTotals: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:29: public var subtotal: Money
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:30: public var deliveryFee: Money
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:31: public var serviceFee: Money
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:32: public var tax: Money
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:33: public var grandTotal: Money
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:43: public init(
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:80:public struct CheckoutTotals: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:83: public let profileID: UserProfileID?
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:86: public let sessionID: CartSessionID?
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:89: public let perStore: [StoreID: CartTotals]
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:92: public let aggregate: CartTotals
Sources/CartKitCore/Domain/Value Objects/Money+CartTotals.swift:94: public init(
Sources/CartKitCore/Domain/Services/Promotion Engine/PromotionEngine.swift:10:public protocol PromotionEngine: Sendable {
Sources/CartKitStorageSwiftData/Configuration/SwiftDataCartStoreConfiguration.swift:3:public struct SwiftDataCartStoreConfiguration: Sendable {
Sources/CartKitStorageSwiftData/Configuration/SwiftDataCartStoreConfiguration.swift:6: public let inMemory: Bool
Sources/CartKitStorageSwiftData/Configuration/SwiftDataCartStoreConfiguration.swift:10: public let storeURL: URL?
Sources/CartKitStorageSwiftData/Configuration/SwiftDataCartStoreConfiguration.swift:12: public init(
Sources/CartKitTestingSupport/TestDoubles/StubPricingEngine.swift:4:public actor StubPricingEngine: CartPricingEngine {
Sources/CartKitTestingSupport/TestDoubles/StubPricingEngine.swift:5: public enum Mode {
Sources/CartKitTestingSupport/TestDoubles/StubPricingEngine.swift:16: public init(mode: Mode) {
Sources/CartKitTestingSupport/TestDoubles/StubPricingEngine.swift:20: public func computeTotals(for cart: Cart, context: CartPricingContext) async throws -> CartTotals {
Sources/CartKitCore/Application/Lifecycle/CartCleanupResult.swift:2:public struct CartCleanupResult: Sendable, Hashable {
Sources/CartKitCore/Application/Lifecycle/CartCleanupResult.swift:3: public let deletedCartIDs: [CartID]
Sources/CartKitCore/Application/Lifecycle/CartCleanupResult.swift:5: public init(deletedCartIDs: [CartID]) {
Sources/CartKitTestingSupport/TestDoubles/FakeCatalogConflictDetector.swift:3:public struct FakeCatalogConflictDetector: CartCatalogConflictDetector, Sendable {
Sources/CartKitTestingSupport/TestDoubles/FakeCatalogConflictDetector.swift:6: public init(_ handler: @escaping @Sendable (Cart) -> [CartCatalogConflict]) {
Sources/CartKitTestingSupport/TestDoubles/FakeCatalogConflictDetector.swift:10: public func detectConflicts(for cart: Cart) async -> [CartCatalogConflict] {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:4:public struct CartID: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:5: public let rawValue: String
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:7: public init(rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:12: public init(_ rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:18:public struct StoreID: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:19: public let rawValue: String
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:21: public init(rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:25: public init(_ rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:31:public struct UserProfileID: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:32: public let rawValue: String
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:34: public init(rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:38: public init(_ rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:44:public struct CartItemID: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:45: public let rawValue: String
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:47: public init(rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:51: public init(_ rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:60:public struct CartSessionID: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:61: public let rawValue: String
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:63: public init(rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/IDTypes.swift:67: public init(_ rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:7:public struct CartPricingContext: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:10: public let storeID: StoreID
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:13: public let profileID: UserProfileID?
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:16: public let sessionID: CartSessionID?
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:19: public let serviceFee: Money?
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:22: public let deliveryFee: Money?
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:26: public let taxRate: Decimal
Sources/CartKitCore/Domain/Value Objects/CartPricingContext.swift:28: public init(
Sources/CartKitCore/Domain/Services/Cart Validation Engine/DefaultCartValidationEngine.swift:8:public struct DefaultCartValidationEngine: CartValidationEngine, Sendable {
Sources/CartKitCore/Domain/Services/Cart Validation Engine/DefaultCartValidationEngine.swift:13: public init(
Sources/CartKitCore/Domain/Services/Cart Validation Engine/DefaultCartValidationEngine.swift:23: public func validate(cart: Cart) async -> CartValidationResult {
Sources/CartKitCore/Domain/Services/Cart Validation Engine/DefaultCartValidationEngine.swift:48: public func validateItemChange(
Sources/CartKitTestingSupport/MultiCartTestingSupport.swift:12:public struct MultiCartTestingSupport: Sendable {
Sources/CartKitTestingSupport/MultiCartTestingSupport.swift:14: public let store: InMemoryCartStore
Sources/CartKitTestingSupport/MultiCartTestingSupport.swift:15: public let analytics: SpyCartAnalyticsSink
Sources/CartKitTestingSupport/MultiCartTestingSupport.swift:17: public init(initialCarts: [Cart] = []) {
Sources/CartKitTestingSupport/MultiCartTestingSupport.swift:22: public func makeConfiguration(
Sources/CartKitTestingSupport/MultiCartTestingSupport.swift:41: public func makeCartManager(
Sources/CartKit/Migrations/Core/CartStoreMigrationRunner.swift:25: public init(
Sources/CartKit/Migrations/Core/CartStoreMigrationRunner.swift:49: public func run(_ migrators: [any CartStoreMigrator]) async throws {
Sources/CartKitCore/Domain/Value Objects/CartStatus.swift:2:public enum CartStatus: String, Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Results/ActiveCartGroup.swift:1:public struct ActiveCartGroup: Sendable, Hashable {
Sources/CartKitCore/Domain/Value Objects/Results/ActiveCartGroup.swift:2: public let sessionID: CartSessionID?
Sources/CartKitCore/Domain/Value Objects/Results/ActiveCartGroup.swift:3: public let carts: [Cart]
Sources/CartKit/Migrations/Core/CartMigrationID.swift:9:public struct CartMigrationID: RawRepresentable, Hashable, Sendable {
Sources/CartKit/Migrations/Core/CartMigrationID.swift:10: public let rawValue: String
Sources/CartKit/Migrations/Core/CartMigrationID.swift:12: public init(rawValue: String) {
Sources/CartKitCore/Domain/Value Objects/Promotion/PromotionKind.swift:4:public enum PromotionKind: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Promotion/AppliedPromotion.swift:5:public struct AppliedPromotion: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Promotion/AppliedPromotion.swift:8: public let id: String
Sources/CartKitCore/Domain/Value Objects/Promotion/AppliedPromotion.swift:11: public let title: String
Sources/CartKitCore/Domain/Value Objects/Promotion/AppliedPromotion.swift:14: public let description: String?
Sources/CartKitCore/Domain/Value Objects/Promotion/AppliedPromotion.swift:17: public let metadata: [String: String]
Sources/CartKitCore/Domain/Value Objects/Promotion/AppliedPromotion.swift:19: public init(
Sources/CartKitCore/Domain/Value Objects/Results/CheckoutGroupValidationResult.swift:10:public struct CheckoutGroupValidationResult: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Results/CheckoutGroupValidationResult.swift:13: public let profileID: UserProfileID?
Sources/CartKitCore/Domain/Value Objects/Results/CheckoutGroupValidationResult.swift:16: public let sessionID: CartSessionID?
Sources/CartKitCore/Domain/Value Objects/Results/CheckoutGroupValidationResult.swift:19: public let perStore: [StoreID: CartValidationResult]
Sources/CartKitCore/Domain/Value Objects/Results/CheckoutGroupValidationResult.swift:22: public var isValid: Bool {
Sources/CartKitCore/Domain/Value Objects/Results/CheckoutGroupValidationResult.swift:29: public init(
Sources/CartKit/Migrations/Core/CartStoreMigrationResult.swift:6:public struct CartStoreMigrationResult: Sendable, Equatable {
Sources/CartKitCore/Domain/Value Objects/Results/CartUpdateResult.swift:7:public struct CartUpdateResult: Sendable {
Sources/CartKitCore/Domain/Value Objects/Results/CartUpdateResult.swift:9: public let cart: Cart
Sources/CartKitCore/Domain/Value Objects/Results/CartUpdateResult.swift:12: public let removedItems: [CartItem]
Sources/CartKitCore/Domain/Value Objects/Results/CartUpdateResult.swift:15: public let changedItems: [CartItem]
Sources/CartKitCore/Domain/Value Objects/Results/CartUpdateResult.swift:18: public let conflicts: [CartCatalogConflict]
Sources/CartKitCore/Domain/Value Objects/Results/CartUpdateResult.swift:20: public init(
Sources/CartKit/Migrations/Core/CartStoreMigrationPolicy.swift:11:public enum CartStoreMigrationPolicy: Sendable, Equatable {
Sources/CartKitCore/Domain/Value Objects/Results/CartValidationResult.swift:5:public enum CartValidationResult: Hashable, Codable, Sendable {
Sources/CartKitCore/Domain/Value Objects/Results/CartCatalogConflict.swift:2:public struct CartCatalogConflict: Sendable, Equatable {
Sources/CartKitCore/Domain/Value Objects/Results/CartCatalogConflict.swift:3: public let itemID: CartItemID
Sources/CartKitCore/Domain/Value Objects/Results/CartCatalogConflict.swift:4: public let productID: String
Sources/CartKitCore/Domain/Value Objects/Results/CartCatalogConflict.swift:5: public let kind: Kind
Sources/CartKitCore/Domain/Value Objects/Results/CartCatalogConflict.swift:7: public init(itemID: CartItemID, productID: String, kind: Kind) {
Sources/CartKitCore/Domain/Value Objects/Results/CartCatalogConflict.swift:13: public enum Kind: Sendable, Equatable {
Sources/CartKit/Migrations/Core/CartStoreMigrationObserver.swift:6:public protocol CartStoreMigrationObserver: Sendable {
Sources/CartKit/Migrations/Core/CartStoreMigrationObserver.swift:13:public struct CartLoggerMigrationObserver: CartStoreMigrationObserver {
Sources/CartKit/Migrations/Core/CartStoreMigrationObserver.swift:16: public init(logger: CartLogger = DefaultCartLogger()) {
Sources/CartKit/Migrations/Core/CartStoreMigrationObserver.swift:20: public func migrationStarted(id: CartMigrationID) async {
Sources/CartKit/Migrations/Core/CartStoreMigrationObserver.swift:24: public func migrationSucceeded(id: CartMigrationID, result: CartStoreMigrationResult) async {
Sources/CartKit/Migrations/Core/CartStoreMigrationObserver.swift:28: public func migrationFailed(id: CartMigrationID, error: Error) async {
